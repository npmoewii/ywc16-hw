(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(227)},123:function(e,t,a){},132:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),o=a.n(c),s=(a(123),a(125),a(21)),l=a.n(s),i=a(73),u=a(35),h=a(96),m=a(97),p=a(98),d=a(114),f=a(99),g=a(115),b=a(100),v=a.n(b),E=a(229),S=a(231),N=a(232),w=a(230),k=a(113),y=a(101),I=a.n(y),O=(a(132),a(51)),x=a.n(O),j="https://api.data.go.th/search_virtuoso/api/dataset/query?&dsname=vir_501_1497234362&path=vir_501_1497234362",C=function(){var e=Object(u.a)(l.a.mark(function e(t,a){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(j,"&loadAll=0&pageNo=").concat(a,"&pageSize=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(l.a.mark(function e(t,a,n,r){var c,o,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=0===t?"id":"col_"+t,o="".concat(j,"&property=").concat(c,"&operator=CONTAINS&valueLiteral=").concat(a,"&loadAll=0&pageNo=").concat(r,"&pageSize=").concat(n),e.next=4,x.a.get(o);case 4:return s=e.sent,e.abrupt("return",s.data);case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),z=C,A=["\u0e25\u0e33\u0e14\u0e31\u0e1a","SchoolID","SchoolName","SubDistrict","District","Province","PostCode","SchoolType","Department","Telephone","Fax","Website","Email","Latitude","Longtitude"],P=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).loader=r.a.createElement(E.a,{size:"large",className:"loader"}),a.onChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.onSelectChange=function(e){a.setState({filter:e})},a.search=function(){a.setState({hasMoreItems:!0,schools:[],loading:!0,currPage:1})},a.loadItems=function(){var e=Object(u.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],""!==a.state.input){e.next=7;break}return e.next=4,z(a.state.pageSize,a.state.currPage);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,D(a.state.filter,a.state.input,a.state.pageSize,a.state.currPage);case 9:n=e.sent;case 10:n!==[]&&"-"!==n[0]["1@SchoolID"]?a.setState({schools:Object(i.a)(a.state.schools).concat(Object(i.a)(n)),loading:!1,currPage:a.state.currPage+1}):a.setState({hasMoreItems:!1,loading:!1});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.renderSchool=function(){return a.state.schools.map(function(e){return r.a.createElement(S.a,{className:"schoolItem",key:e["1@SchoolID"],title:e["2@SchoolName"]},A.map(function(t,a){return[1,2,3,4,5,6,7,9].includes(a)?r.a.createElement("p",{key:e["1@SchoolID"]+t},r.a.createElement("label",{className:"info-label"},t,": ")," ",e[a+"@"+t]):null}),r.a.createElement("p",{key:e["1@SchoolID"]+"Website"},r.a.createElement("label",{className:"info-label"},"Website: "),"-"===e["11@Website"]?"-":r.a.createElement("a",{href:e["11@Website"],target:"_blank",rel:"noopener noreferrer"},e["11@Website"])))})},a.state={input:"",filter:0,schools:[],pageSize:3,hasMoreItems:!1,loading:!1,currPage:1},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.inputRef.focus(),this.parallax=new I.a(this.bg,{relativeInput:!0}),this.parallax.friction(.2,.2),this.parallax.enable()}},{key:"componentWillUnmount",value:function(){this.parallax.disable()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"bg",ref:function(t){return e.bg=t}},r.a.createElement("div",{className:"color-bg"}),r.a.createElement("div",{className:"img-bg","data-depth":"0.1"})),r.a.createElement("header",{className:"App-header","data-depth":"0.0"},r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"THAILAND's SCHOOL INFORMATION"),r.a.createElement("h5",null,r.a.createElement("em",null,r.a.createElement("b",null,"Retrieve from: "),r.a.createElement("a",{href:"https://api.data.go.th"},"https://api.data.go.th")))),r.a.createElement("div",{className:"search"},r.a.createElement(N.a.Group,{size:"large",compact:!0},r.a.createElement(w.a,{name:"filter",onChange:this.onSelectChange,value:this.state.filter,className:"search-select"},A.map(function(e,t){return r.a.createElement(w.a.Option,{key:t,value:t},e)})),r.a.createElement(N.a,{className:"search-input",size:"large",placeholder:"Search by "+A[this.state.filter]+"...",onChange:this.onChange,value:this.state.input,name:"input",ref:function(t){e.inputRef=t},onKeyPress:function(t){"Enter"===t.key&&e.search()}})),r.a.createElement(k.a,{type:"primary",size:"large",onClick:this.search,loading:this.state.loading},"Search"))),this.state.data!==[]||this.state.loading?r.a.createElement(v.a,{pageStart:0,loadMore:this.loadItems,hasMore:this.state.hasMoreItems,loader:this.loader,className:"showSchool"},this.renderSchool()):null),r.a.createElement("footer",{className:"App-footer","data-depth":"0.0"},r.a.createElement("a",{href:"https://www.freepik.com/free-vector/school-building-with-small-fence-around_3297805.htm"},"Background by Katemangostar")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,2,1]]]);
//# sourceMappingURL=main.f3b64174.chunk.js.map